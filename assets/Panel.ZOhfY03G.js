import{m as I,j as t,S as B,I as K}from"./SocialIcon.B-F35WXP.js";import{R as m,r as S}from"./index.B52nOzfP.js";import{u as x,B as z}from"./ButtonPromise.BvMXZ3m9.js";import{d as H,t as P}from"./Toast.Store.BLmmjuNv.js";import{S as C}from"./Skeleton.C7oxWcfG.js";import"./CircleLoading.B-4Kou1b.js";const y=H({Projects:null,Emails:null}),w=I(null),j=I(null);function W({panel:e}){const r=x(y),s=x(j),a=async()=>{const c=await(await fetch("https://app-xr5kdq6jkq-uc.a.run.app/Projects")).json();if(typeof c=="object"&&c!==null){const l=Object.entries(c).map(([i,d])=>({date:i,...d}));y.setKey(e,l)}};m.useEffect(()=>{s||(y.setKey("Projects",null),a())},[]);const n=Array.isArray(r[e])?r[e]:[];return t.jsxs("div",{className:"f-col mt-2 w-100",children:[t.jsx("div",{className:"f-row f-justify-between",children:!s&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"fs-4",children:"Manage Projects"}),t.jsx("span",{className:"btn-primary br-6 pointer fs-2 fw-500",style:{padding:".35rem .75rem"},onClick:()=>j.set({type:"add"}),children:"New project"})]})}),t.jsx("section",{className:"f-row g-3 f-wrap mt-3",children:s?t.jsx(J,{}):n.length>0?n.map((o,c)=>t.jsxs("div",{className:"project-card px-4 py-3 pointer",onClick:()=>j.set({...o,type:"see"}),children:[t.jsx("h2",{className:"fs-5",children:o.tittle}),t.jsxs("p",{className:"mb-1",children:[o.description.split(/\s+/).map(l=>l.replace(/,/g,"")).slice(0,150).join(" "),o.description.length>150?"...":""]})]},c)):t.jsx(t.Fragment,{children:Array.from({length:6}).map((o,c)=>t.jsxs("div",{className:"project-card-skeleton f-col g-2 p-3",style:{maxHeight:"max-content"},children:[t.jsx(C,{className:"w-40"}),t.jsx(C,{className:"w-100"}),t.jsx(C,{className:"w-30"})]},c))})})]})}const J=()=>{const e=x(j),r=new Date(e?.date||new Date),s=`${r.getDate()}/${r.getMonth()+1}/${r.getFullYear()}`,a=m.useRef(null),n=m.useRef(null),o=m.useRef(null),c=m.useRef(null),l=m.useRef(null),i=m.useRef(null),d=m.useRef(null),f=(p,u)=>{u.innerText=p.target.value},h=async()=>{const p=a.current?.innerText,u=n.current?.innerText,N=o.current?.value==="true",F=l.current?.getAttribute("src"),E=c.current?.value.split(",")||[],_=i.current?.value,M=d.current?.value;if(!p||!u||!E||!_){P.error("Please fill all the fields");return}try{const je=await(await fetch("https://app-xr5kdq6jkq-uc.a.run.app/Projects/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:p,description:u,image:F,website:M,state:N,techs:E,repository:_})})).json()}catch(T){console.error("Failed to save project:",T)}};return t.jsxs("main",{className:"f-col w-100 mb-4",children:[t.jsx("span",{className:"d-flex btn-third br-6 fs-2 pointer mb-3 w-max",onClick:()=>j.set(null),style:{padding:".4rem 1rem"},children:"Back"}),t.jsxs("section",{className:"f-row g-6 f-wrap f-justify-center",children:[t.jsxs("div",{className:"ad-viewer-project project-card px-3 py-3 f-col",children:[t.jsxs("div",{className:"f-row f-justify-between f-align-center",children:[t.jsx("span",{className:"fs-custom-12-5 text-common fw-500",children:s}),t.jsx("span",{className:"state br-50 d-flex mr-1","data-state":e.state?"finish":"progress"})]}),t.jsx("h2",{className:"fs-4",ref:a,children:e.tittle||"Project tittle"}),t.jsx("div",{className:"f-row g-2 mt-1 mb-2",children:e?.techs?.map((p,u)=>t.jsx("span",{className:"tag br-max",children:p},u))||t.jsx("span",{className:"tag br-max",children:"Tech"})}),t.jsxs("p",{className:"m-0 fw-500 text-common",ref:n,children:[e.description||" Lorem ipsum dolor sit adipisicing elit. Ut, am dignissimos dolorum rem totam!"," "]}),t.jsx("img",{src:e.img||"https://via.placeholder.com/300/808080/808080.png",alt:e.tittle,width:"100%",height:e.img?"auto":150,loading:"lazy",className:"br-6 mt-3",ref:l}),t.jsxs("div",{className:"f-row g-2 f-justify-between mt-3 f-wrap",children:[t.jsxs("a",{className:"icon btn btn-third  fs-2 fw-600 br-6 d-flex f-center g-2 f-grow mx-auto",href:e.repository,children:[t.jsx(B,{icon:"github",size:20}),"Source Code"]}),t.jsxs("a",{className:"icon btn btn-third  fs-2 fw-600 br-6 d-flex f-center g-2 f-grow mx-auto",href:e.websiteURL,children:[t.jsx(K,{icon:"redirect",size:20}),"Live Demo"]})]})]}),t.jsx("div",{className:"f-col f-grow g-2",children:t.jsxs("div",{className:"f-col g-2",children:[t.jsxs("div",{className:"f-row g-4",children:[t.jsx("input",{className:"f-grow fs-1",type:"text",defaultValue:e.tittle,placeholder:e.tittle?"":"Project tittle",onChange:p=>f(p,a.current)}),t.jsxs("select",{id:"",defaultValue:"State",ref:o,children:[t.jsx("option",{value:"false",children:"progress"}),t.jsx("option",{value:"true",children:"finish"})]})]}),t.jsx("input",{type:"text",defaultValue:e.description,placeholder:e.description?"":"Description",onChange:p=>f(p,n.current)}),t.jsx("input",{className:"f-grow",type:"text",defaultValue:e.techs&&e.techs.join(),placeholder:e.techs?"":"Techs",ref:c}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("input",{className:"f-grow",type:"text",defaultValue:e.repository,placeholder:e.repository?"":"Repository",ref:i}),t.jsx("input",{className:"f-grow",type:"text",defaultValue:e.websiteURL,placeholder:e.websiteURL?"":"Demo URL",ref:d})]}),t.jsx("input",{type:"text",defaultValue:e.img,placeholder:e.img?"":"Image URL",onChange:p=>{l.current.setAttribute("src",p.target.value||"https://via.placeholder.com/300/808080/808080.png")}})]})})]}),t.jsx(z,{className:"btn btn-primary br-6 fw-600 pointer text-center w-max f-align-self-end mt-4",text:e.type==="add"?"Create":"Save",onClick:async()=>{await P.promise(h,{loading:"Verificando...",success:`Project ${e.type==="add"?"added":"updated"} successfully`,error:"Something error what happend please try again."})}})]})};var v={},X=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var r=document.activeElement,s=[],a=0;a<e.rangeCount;a++)s.push(e.getRangeAt(a));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(n){e.addRange(n)}),r&&r.focus()}},Y=X,A={"text/plain":"Text","text/html":"Url",default:"Text"},G="Copy to clipboard: #{key}, Enter";function Q(e){var r=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,r)}function Z(e,r){var s,a,n,o,c,l,i=!1;r||(r={}),s=r.debug||!1;try{n=Y(),o=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(f){if(f.stopPropagation(),r.format)if(f.preventDefault(),typeof f.clipboardData>"u"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=A[r.format]||A.default;window.clipboardData.setData(h,e)}else f.clipboardData.clearData(),f.clipboardData.setData(r.format,e);r.onCopy&&(f.preventDefault(),r.onCopy(f.clipboardData))}),document.body.appendChild(l),o.selectNodeContents(l),c.addRange(o);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");i=!0}catch(f){s&&console.error("unable to copy using execCommand: ",f),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",e),r.onCopy&&r.onCopy(window.clipboardData),i=!0}catch(h){s&&console.error("unable to copy using clipboardData: ",h),s&&console.error("falling back to prompt"),a=Q("message"in r?r.message:G),window.prompt(a,e)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(o):c.removeAllRanges()),l&&document.body.removeChild(l),n()}return i}var ee=Z;function O(e){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(e)}Object.defineProperty(v,"__esModule",{value:!0});v.CopyToClipboard=void 0;var g=$(S),te=$(ee),re=["text","onCopy","options","children"];function $(e){return e&&e.__esModule?e:{default:e}}function L(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function U(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L(Object(s),!0).forEach(function(a){D(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function se(e,r){if(e==null)return{};var s=ae(e,r),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ae(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,o;for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function ne(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oe(e,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e,r,s){return r&&oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&k(e,r)}function k(e,r){return k=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},k(e,r)}function ie(e){var r=pe();return function(){var a=b(e),n;if(r){var o=b(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return fe(this,n)}}function fe(e,r){if(r&&(O(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},b(e)}function D(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}var V=function(e){le(s,e);var r=ie(s);function s(){var a;ne(this,s);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return a=r.call.apply(r,[this].concat(o)),D(q(a),"onClick",function(l){var i=a.props,d=i.text,f=i.onCopy,h=i.children,p=i.options,u=g.default.Children.only(h),N=(0,te.default)(d,p);f&&f(d,N),u&&u.props&&typeof u.props.onClick=="function"&&u.props.onClick(l)}),a}return ce(s,[{key:"render",value:function(){var n=this.props;n.text,n.onCopy,n.options;var o=n.children,c=se(n,re),l=g.default.Children.only(o);return g.default.cloneElement(l,U(U({},c),{},{onClick:this.onClick}))}}]),s}(g.default.PureComponent);v.CopyToClipboard=V;D(V,"defaultProps",{onCopy:void 0,options:void 0});var de=v,R=de.CopyToClipboard;R.CopyToClipboard=R;var ue=R;function me({panel:e}){const r=x(y),s=x(w),a=async()=>{const c=await(await fetch("https://app-xr5kdq6jkq-uc.a.run.app/Email/get")).json();if(typeof c=="object"&&c!==null){const l=Object.entries(c).map(([i,d])=>({date:i,...d}));y.setKey(e,l)}};S.useEffect(()=>{s||(y.setKey("Emails",null),a())},[s]);const n=Array.isArray(r[e])?r[e]:[];return t.jsx("section",{className:"f-col w-100 mt-2",children:s?t.jsx(ye,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"ad-email-head ad-email-tr f-row sticky w-100",style:{top:0,padding:".5rem 1.2rem"},children:[t.jsx("p",{className:"m-0 fs-custom-15",children:"From"}),t.jsx("p",{className:"m-0 fs-custom-15",children:"Topic"}),t.jsx("p",{className:"m-0 fs-custom-15",children:"Date"})]}),t.jsx("div",{className:"f-col relative mt-1",children:n.length>0?n.map((o,c)=>t.jsx(he,{data:o},c)):t.jsxs("div",{className:"f-col g-3",children:[t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]})]})}),t.jsxs("span",{className:"fs-2 mt-2 text-common",children:[n.length," emails"]})]})})}const he=({data:e})=>{const r=new Date(parseInt(e?.date)).toLocaleDateString("en-US"),s=async()=>{w.set(e),!e?.isSee&&await fetch(`https://app-xr5kdq6jkq-uc.a.run.app/Email/${e?.date}`,{method:"PATCH"})};return t.jsxs("div",{className:`ad-email-row ad-email-tr f-row f-justify-between br-2 relative pointer ${e?.isSee?"":"unsee"}`,onPointerDown:s,children:[t.jsx("p",{className:"m-0 fs-custom-15",children:e?.email}),t.jsxs("p",{className:"m-0 fs-custom-15",children:[e?.topic," - ",e?.message.slice(0,15)]}),t.jsx("p",{className:"m-0 fs-custom-15",children:r})]})},ye=()=>{const e=x(w),r=new Date(parseInt(e?.date)).toLocaleDateString("en-US");return t.jsxs("div",{className:"ad-viewer-email mt-3",children:[t.jsx("span",{className:"d-flex btn-third br-6 fs-2 pointer mb-3 w-max",onClick:()=>w.set(null),style:{padding:".4rem 1rem"},children:"Back"}),t.jsxs("div",{className:"f-row f-justify-between",children:[t.jsx(ue.CopyToClipboard,{text:e?.email,onCopy:()=>P.success("Copied"),children:t.jsx("h2",{className:"fs-4 pointer",children:e?.email})}),t.jsx("span",{className:"fs-custom-13",children:r})]}),t.jsx("p",{className:"fs-custom-15",children:e?.topic}),t.jsx("textarea",{className:"w-100 text-left p-3 fs-custom-15",defaultValue:e?.message,disabled:!0})]})};function Pe(){const[e,r]=S.useState("Projects"),s=a=>{const n=a.target;n.closest(".ad-head").querySelectorAll("li").forEach(c=>{c.classList.remove("active")}),n.classList.add("active"),r(n.innerText)};return t.jsxs("section",{className:"f-col mt-5 w-100 px-4",children:[t.jsxs("ul",{className:"ad-head f-row f-wrap o-hidden br-6",children:[t.jsx("li",{className:"f-grow text-center py-1 px-3 pointer fw-500 active",onClick:s,children:"Projects"}),t.jsx("li",{className:"f-grow text-center py-1 px-3 pointer fw-500",onClick:s,children:"Emails"})]}),t.jsx("main",{className:"ad-main d-flex mt-2 br-6",children:e==="Projects"?t.jsx(W,{panel:"Projects"}):e==="Emails"?t.jsx(me,{panel:"Emails"}):t.jsx("p",{className:"m-0",children:"No data"})})]})}export{Pe as default};
