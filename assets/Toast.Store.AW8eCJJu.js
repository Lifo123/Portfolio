import{c as h,j as o,F as f}from"./SocialIcon.C8nYMsSg.js";import{C as T}from"./CircleLoading.Bzx8gPwV.js";function z(t,e){let s=y(e),a=t;for(let n of s){if(a===void 0)break;a=a[n]}return a}function A(t,e,s){return g(t??{},y(e),s)}function g(t,e,s){let a=e[0],n=Array.isArray(t)?[...t]:{...t};return e.length===1?(s===void 0?Array.isArray(n)?n.splice(a,1):delete n[a]:n[a]=s,n):(M(n,a,e[1]),n[a]=g(n[a],e.slice(1),s),n)}const m=/(.*)\[(\d+)\]/;function y(t){return t.split(".").flatMap(e=>v(e))}function v(t){if(m.test(t)){let[,e,s]=t.match(m);return[...v(e),s]}return[t]}const R=/^\d+$/;function M(t,e,s){if(e in t)return;R.test(s)?t[e]=Array(parseInt(s,10)+1):t[e]={}}function j(t={}){let e=h(t);return e.setKey=(s,a)=>{if(z(e.value,s)!==a){let n=e.value;e.value=A(e.value,s,a),e.notify(n,s)}},e}const K=o.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",height:"22",width:"22",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),B=o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"22",width:"22",children:o.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),C=o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"22",width:"22",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})}),E=o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"22",width:"22",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),D=o.jsx(T,{size:18}),O={success:K,warning:B,error:E,info:C,loading:D},w=h({id:0}),i=j(),c=t=>{const e=t.toastID||"init",s=i.get()[e]||[],a={...t,toastID:e,state:!0,id:t.id};return i.setKey(e,[...s,a]),w.set(s[0]||a),t.id},l=(t,e)=>c({...e,message:t,id:f.IDnumber()}),$=async(t,e)=>{setTimeout(()=>{l(t,e)},e?.delay||350)},F=(t,e)=>c({...e,children:t,id:f.IDnumber()}),L=async(t,e)=>{const s=e?.toastID||"init",a=f.IDnumber();let n;e?.loading&&(n=c({...e,message:e.loading,type:"loading",toastID:s,noDissapear:!0,id:a}));try{await t(),e?.success&&(n?u(s,a,{message:e.success,type:"success",noDissapear:!1}):c({...e,message:e.success,type:"success",toastID:s,id:a}))}catch(r){throw e?.error&&(n?u(s,n,{message:e.error,type:"error",noDissapear:!1}):c({...e,message:e.error,type:"error",toastID:s,id:a})),r}},N=(t,e)=>{const s=i.get();if(t&&e){const n=s[t].map(r=>r.id===e?{...r,state:!1}:r);i.setKey(t,n),d.removeDelay(t,e,300);return}if(t){const n=s[t].map(r=>({...r,state:!1}));i.setKey(t,n),n.forEach(r=>d.removeDelay(t,r.id,350));return}const a=Object.keys(s).reduce((n,r)=>(n[r]=s[r].map(p=>({...p,state:!1})),n),{});i.set(a),Object.keys(s).forEach(n=>{s[n].forEach(r=>d.removeDelay(n,r.id,350))})},x=(t,e)=>{const s=i.get()[t];if(s){const a=s.filter(n=>n.id!==e);i.setKey(t,a),w.set(a[0]||{id:0})}},P=(t,e,s)=>{setTimeout(()=>{x(t,e)},s||0)},u=(t,e,s)=>{const a=i.get();if(!a[t])return;const n=a[t].map(r=>r.id===e?{...r,...s}:r);i.setKey(t,n)},d={removeDelay:P,updateToast:u},V={show:(t,e)=>l(t,e),success:(t,e)=>l(t,{...e,type:"success"}),error:(t,e)=>l(t,{...e,type:"error"}),warning:(t,e)=>l(t,{...e,type:"warning"}),info:(t,e)=>l(t,{...e,type:"info"}),delay:$,custom:F,dismiss:N,remove:x,promise:L};export{i as $,d as L,O as T,w as a,j as d,V as t};
