import{$ as b,a as T,L as y,t as m,T as g}from"./Toast.Store.BLmmjuNv.js";import{j as a}from"./SocialIcon.B-F35WXP.js";import{R as l}from"./index.B52nOzfP.js";import{u as x,B as j}from"./ButtonPromise.BvMXZ3m9.js";import{C as I}from"./CloseBtn.OIVA-A6t.js";import"./CircleLoading.B-4Kou1b.js";let u=1e3;function v(e){const s=l.useRef(null),[n,t]=l.useState(u);let i=e.bgClose;return e.portalType==="Toaster"&&(i=!1),e.portalType==="Dialoger"&&e.bgClose===void 0&&(i=!0),l.useEffect(()=>{if(u++,t(u),s.current?.setAttribute(`data-${e.portalType}-id`,`${e.portalID}`),document.querySelectorAll(`[data-${e.portalType}-id="${e.portalID}"]`).length>1)throw new Error(`There is already a ${e.portalType} with the same ID: "${e.portalID}". Skipping render.`)},[]),a.jsx("span",{className:`flifo-portal h-100 w-100 o-hidden ${e.className||""} ${e.isRelative?"relative":"fixed"}`,style:{...e.style,zIndex:n,pointerEvents:i?"visible":"none",backgroundColor:e.bgColor},"data-portal-type":e.portalType,ref:s,children:e.children})}function S({toastID:e="init",position:s="top-center",duration:n=2500,animation:t="slide",maxToasts:i=3,...r}){const c=x(b);if(!c[e])return;const d=c[e].slice(-i-1);return a.jsx(v,{portalID:e,portalType:"Toaster",...r,bgClose:!1,state:!0,children:d.map((o,f)=>a.jsx(D,{index:f,toastID:e,position:s,duration:n,animate:t,maxToasts:i,...o},o.id))})}const D=({scaleOffset:e="center",startOffset:s,endOffset:n,...t})=>{const i=x(T),[r,c]=l.useState(!1),[d,o]=l.useState(!1),f={"--toast-start-top":s?.top,"--toast-start-bottom":s?.bottom,"--toast-start-left":s?.left,"--toast-start-right":s?.right,"--toast-end-top":n?.top,"--toast-end-bottom":n?.bottom,"--toast-end-left":n?.left,"--toast-end-right":n?.right};return l.useEffect(()=>{c(t.state!==void 0?t.state:!0),t.state===!1?y.removeDelay(t.toastID,t.id,t.animate==="none"?0:350):setTimeout(()=>{c(!0)},50)},[t.state]),l.useEffect(()=>{t.index!==void 0&&t.maxToasts!==void 0&&t.index+1>t.maxToasts&&m.dismiss(i.toastID,i.id)},[i,t.index,t.maxToasts]),l.useEffect(()=>{if(t.noDissapear||t.noDissapear&&d)return;const h=setTimeout(()=>{m.dismiss(t.toastID,t.id)},t.duration);return()=>clearTimeout(h)},[d,t.duration,t.noDissapear]),a.jsx("div",{className:`toast-container d-flex f-center w-max h-max${r?" visible":" delete"} ${t.theme||""}${t.isRelative?" fixed":" absolute"}`,"data-axis-y":t.position?.split("-")[0],"data-axis-x":t.position?.split("-")[1],"data-scale-offset":e,"data-animate":t?.animate,style:{zIndex:d?"inherit":0,...f},onMouseEnter:()=>t.noDissapear?null:o(!0),onMouseLeave:()=>o(!1),children:t?.children&&t.children||a.jsxs("span",{className:"toast-item f-row f-justify-between f-align-center br-6 sd-1",children:[a.jsxs("div",{className:"f-row g-1 f-center",children:[t.customIcon||t.icon||t.type&&a.jsx("span",{className:"toast-icon mr-2 d-flex f-center",children:t.customIcon?t.customIcon:g[t.type]}),a.jsxs("div",{className:"f-col f-justify-center",children:[t.title&&a.jsx("h3",{className:"fs-custom-14-5 mb-1",style:{color:"rgb(var(--lb-title))"},children:t?.title}),a.jsx("p",{className:"fs-2 m-0",style:{fontWeight:"450"},children:t?.message}),t.href&&a.jsx("a",{className:"info fs-custom-13 br-6 w-max",href:t.href,children:"More"})]})]}),t.action?a.jsx(j,{className:"fs-custom-13 pointer btn-fourth br-6",text:t.actionText||"Continue",size:16,style:{padding:".35rem .8rem"},onClick:async()=>{o(!0),await t.action(),m.dismiss(t.toastID,t.id)}}):t.closeBtn?a.jsx("span",{className:"ml-3 d-block",onClick:()=>{m.dismiss(t.toastID,t.id)},children:a.jsx(I,{size:24})}):null]})})};export{S as Toaster};
