import{m as E,j as t}from"./Alert.Store.DMJPT_ah.js";import{R as U,r as P}from"./index.B52nOzfP.js";import{u as d}from"./index.DcIy302Z.js";import{a as I}from"./ToastAssets.LrJY-75u.js";import{B as $}from"./ButtonPromise.Bi0WOfU1.js";import{S as b}from"./Skeleton.C9LuioC4.js";import{S as q,I as M}from"./SocialIcon.v_jM2JL9.js";import{t as F}from"./Toast.BvjQy1GI.js";const y=I({Projects:null,Emails:null}),j=E(null),u=E(null);function V({panel:e}){const r=d(y),s=d(u),a=async()=>{const c=await(await fetch("https://app-xr5kdq6jkq-uc.a.run.app/Projects")).json();if(typeof c=="object"&&c!==null){const l=Object.entries(c).map(([i,p])=>({date:i,...p}));y.setKey(e,l)}};U.useEffect(()=>{r[e]||a()},[]);const n=Array.isArray(r[e])?r[e]:[];return t.jsxs("div",{className:"f-col mt-2 w-100",children:[t.jsx("div",{className:"f-row f-justify-between",children:!s&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"fs-4",children:"Manage Projects"}),t.jsx("span",{className:"btn-primary br-6 pointer fs-2 fw-500",style:{padding:".35rem .75rem"},onClick:()=>u.set({type:"add"}),children:"New project"})]})}),t.jsx("section",{className:"f-row g-3 f-wrap mt-3",children:s?t.jsx(B,{}):n.length>0?n.map((o,c)=>t.jsxs("div",{className:"project-card px-4 py-3 pointer",onClick:()=>u.set({...o,type:"see"}),children:[t.jsx("h2",{className:"fs-5",children:o.tittle}),t.jsxs("p",{className:"mb-1",children:[o.description.split(/\s+/).map(l=>l.replace(/,/g,"")).slice(0,150).join(" "),o.description.length>150?"...":""]})]},c)):t.jsx(t.Fragment,{children:Array.from({length:6}).map((o,c)=>t.jsxs("div",{className:"project-card-skeleton f-col g-2 p-3",style:{maxHeight:"max-content"},children:[t.jsx(b,{className:"w-40"}),t.jsx(b,{className:"w-100"}),t.jsx(b,{className:"w-30"})]},c))})})]})}const B=()=>{const e=d(u),r=new Date(e?.date||new Date),s=`${r.getDate()}/${r.getMonth()+1}/${r.getFullYear()}`;return console.log("rendering"),t.jsxs("main",{className:"f-col w-100 mb-4",children:[t.jsx("span",{className:"d-flex btn-third br-6 fs-2 pointer mb-3 w-max",onClick:()=>u.set(null),style:{padding:".4rem 1rem"},children:"Back"}),t.jsxs("section",{className:"f-row g-6 f-wrap f-justify-center",children:[t.jsxs("div",{className:"ad-viewer-project project-card px-3 py-3 f-col",children:[t.jsxs("div",{className:"f-row f-justify-between f-align-center",children:[t.jsx("span",{className:"fs-custom-12-5 text-common fw-500",children:s}),t.jsx("span",{className:"state br-50 d-flex mr-1","data-state":e.state?"finish":"progress"})]}),t.jsx("h2",{className:"fs-4",children:e.tittle||"Project tittle"}),t.jsx("div",{className:"f-row g-2 mt-1 mb-2",children:e?.techs?.map((a,n)=>t.jsx("span",{className:"tag br-max",children:a},n))||t.jsx("span",{className:"tag br-max",children:"Tech"})}),t.jsxs("p",{className:"m-0 fw-500 text-common",children:[e.description||" Lorem ipsum dolor sit adipisicing elit. Ut, am dignissimos dolorum rem totam!"," "]}),t.jsx("img",{src:e.img||"https://via.placeholder.com/300/808080/808080.png",alt:e.tittle,width:"100%",height:e.img?"auto":150,loading:"lazy",className:"br-6 mt-3"}),t.jsxs("div",{className:"f-row g-2 f-justify-between mt-3 f-wrap",children:[t.jsxs("a",{className:"icon btn btn-third  fs-2 fw-600 br-6 d-flex f-center g-2 f-grow mx-auto",href:e.repository,children:[t.jsx(q,{icon:"github",size:20}),"Source Code"]}),t.jsxs("a",{className:"icon btn btn-third  fs-2 fw-600 br-6 d-flex f-center g-2 f-grow mx-auto",href:e.websiteURL,children:[t.jsx(M,{icon:"redirect",size:20}),"Live Demo"]})]})]}),t.jsx("div",{className:"f-col f-grow g-2",children:t.jsxs("div",{className:"f-col g-2",children:[t.jsxs("div",{className:"f-row g-2",children:[t.jsx("input",{className:"f-grow",type:"text",defaultValue:e.tittle,placeholder:e.tittle?"":"Project tittle"}),t.jsx("span",{children:"Toggle"})]}),t.jsx("input",{type:"text",defaultValue:e.description,placeholder:e.description?"":"Description"}),"techs",t.jsxs("div",{className:"f-row g-2",children:[t.jsx("input",{className:"f-grow",type:"text",defaultValue:e.repository,placeholder:e.repository?"":"Repository"}),t.jsx("input",{className:"f-grow",type:"text",defaultValue:e.websiteURL,placeholder:e.websiteURL?"":"Demo URL"})]}),t.jsx("input",{type:"text",defaultValue:e.img,placeholder:e.img?"":"Image URL"})]})})]}),t.jsx($,{className:"btn-primary mt-3 w-max f-align-self-end",text:"Save",funct:()=>{console.log("Guardando")}})]})};var w={},z=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var r=document.activeElement,s=[],a=0;a<e.rangeCount;a++)s.push(e.getRangeAt(a));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(n){e.addRange(n)}),r&&r.focus()}},K=z,k={"text/plain":"Text","text/html":"Url",default:"Text"},H="Copy to clipboard: #{key}, Enter";function W(e){var r=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,r)}function G(e,r){var s,a,n,o,c,l,i=!1;r||(r={}),s=r.debug||!1;try{n=K(),o=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(f){if(f.stopPropagation(),r.format)if(f.preventDefault(),typeof f.clipboardData>"u"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=k[r.format]||k.default;window.clipboardData.setData(m,e)}else f.clipboardData.clearData(),f.clipboardData.setData(r.format,e);r.onCopy&&(f.preventDefault(),r.onCopy(f.clipboardData))}),document.body.appendChild(l),o.selectNodeContents(l),c.addRange(o);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");i=!0}catch(f){s&&console.error("unable to copy using execCommand: ",f),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",e),r.onCopy&&r.onCopy(window.clipboardData),i=!0}catch(m){s&&console.error("unable to copy using clipboardData: ",m),s&&console.error("falling back to prompt"),a=W("message"in r?r.message:H),window.prompt(a,e)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(o):c.removeAllRanges()),l&&document.body.removeChild(l),n()}return i}var X=G;function v(e){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},v(e)}Object.defineProperty(w,"__esModule",{value:!0});w.CopyToClipboard=void 0;var h=_(P),Y=_(X),J=["text","onCopy","options","children"];function _(e){return e&&e.__esModule?e:{default:e}}function D(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function S(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D(Object(s),!0).forEach(function(a){O(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Q(e,r){if(e==null)return{};var s=Z(e,r),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Z(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,o;for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function ee(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function te(e,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e,r,s){return r&&te(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&N(e,r)}function N(e,r){return N=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},N(e,r)}function ae(e){var r=oe();return function(){var a=g(e),n;if(r){var o=g(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return ne(this,n)}}function ne(e,r){if(r&&(v(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},g(e)}function O(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}var T=function(e){se(s,e);var r=ae(s);function s(){var a;ee(this,s);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return a=r.call.apply(r,[this].concat(o)),O(R(a),"onClick",function(l){var i=a.props,p=i.text,f=i.onCopy,m=i.children,A=i.options,x=h.default.Children.only(m),L=(0,Y.default)(p,A);f&&f(p,L),x&&x.props&&typeof x.props.onClick=="function"&&x.props.onClick(l)}),a}return re(s,[{key:"render",value:function(){var n=this.props;n.text,n.onCopy,n.options;var o=n.children,c=Q(n,J),l=h.default.Children.only(o);return h.default.cloneElement(l,S(S({},c),{},{onClick:this.onClick}))}}]),s}(h.default.PureComponent);w.CopyToClipboard=T;O(T,"defaultProps",{onCopy:void 0,options:void 0});var ce=w,C=ce.CopyToClipboard;C.CopyToClipboard=C;var le=C;function ie({panel:e}){const r=d(y),s=d(j),a=async()=>{const c=await(await fetch("https://app-xr5kdq6jkq-uc.a.run.app/Email/get")).json();if(typeof c=="object"&&c!==null){const l=Object.entries(c).map(([i,p])=>({date:i,...p}));y.setKey(e,l)}};P.useEffect(()=>{s||a()},[s]);const n=Array.isArray(r[e])?r[e]:[];return t.jsx("section",{className:"f-col w-100 mt-2",children:s?t.jsx(pe,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"ad-email-head ad-email-tr f-row sticky w-100",style:{top:0,padding:".5rem 1.2rem"},children:[t.jsx("p",{className:"m-0 fs-custom-15",children:"From"}),t.jsx("p",{className:"m-0 fs-custom-15",children:"Topic"}),t.jsx("p",{className:"m-0 fs-custom-15",children:"Date"})]}),t.jsx("div",{className:"f-col relative mt-1",children:n.length>0?n.map((o,c)=>t.jsx(fe,{data:o},c)):t.jsxs("div",{className:"f-col g-3",children:[t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]}),t.jsxs("div",{className:"f-row g-2",children:[t.jsx("span",{className:"skeleton w-90 d-flex"}),t.jsx("span",{className:"skeleton w-10 d-flex"})]})]})}),t.jsxs("span",{className:"fs-2 mt-2 text-common",children:[n.length," emails"]})]})})}const fe=({data:e})=>{const r=new Date(parseInt(e?.date)).toLocaleDateString("en-US"),s=async()=>{j.set(e),!e?.isSee&&await fetch(`https://app-xr5kdq6jkq-uc.a.run.app/Email/${e?.date}`,{method:"PATCH"})};return t.jsxs("div",{className:`ad-email-row ad-email-tr f-row f-justify-between br-2 relative pointer ${e?.isSee?"":"unsee"}`,onPointerDown:s,children:[t.jsx("p",{className:"m-0 fs-custom-15",children:e?.email}),t.jsxs("p",{className:"m-0 fs-custom-15",children:[e?.topic," - ",e?.message.slice(0,15)]}),t.jsx("p",{className:"m-0 fs-custom-15",children:r})]})},pe=()=>{const e=d(j),r=new Date(parseInt(e?.date)).toLocaleDateString("en-US");return t.jsxs("div",{className:"ad-viewer-email mt-3",children:[t.jsx("span",{className:"d-flex btn-third br-6 fs-2 pointer mb-3 w-max",onClick:()=>j.set(null),style:{padding:".4rem 1rem"},children:"Back"}),t.jsxs("div",{className:"f-row f-justify-between",children:[t.jsx(le.CopyToClipboard,{text:e?.email,onCopy:()=>F.success("Copied"),children:t.jsx("h2",{className:"fs-4 pointer",children:e?.email})}),t.jsx("span",{className:"fs-custom-13",children:r})]}),t.jsx("p",{className:"fs-custom-15",children:e?.topic}),t.jsx("textarea",{className:"w-100 text-left p-3 fs-custom-15",defaultValue:e?.message,disabled:!0})]})};function we(){const[e,r]=P.useState("Projects"),s=a=>{const n=a.target;n.closest(".ad-head").querySelectorAll("li").forEach(c=>{c.classList.remove("active")}),n.classList.add("active"),r(n.innerText)};return t.jsxs("section",{className:"f-col mt-5 w-100 px-4",children:[t.jsxs("ul",{className:"ad-head f-row f-wrap o-hidden br-6",children:[t.jsx("li",{className:"f-grow text-center py-1 px-3 pointer fw-500 active",onClick:s,children:"Projects"}),t.jsx("li",{className:"f-grow text-center py-1 px-3 pointer fw-500",onClick:s,children:"Emails"})]}),t.jsx("main",{className:"ad-main d-flex mt-2 br-6",children:e==="Projects"?t.jsx(V,{panel:"Projects"}):e==="Emails"?t.jsx(ie,{panel:"Emails"}):t.jsx("p",{className:"m-0",children:"No data"})})]})}export{we as default};
